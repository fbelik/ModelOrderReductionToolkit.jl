<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Additional Docstrings · ModelOrderReductionToolkit.jl</title><meta name="title" content="Additional Docstrings · ModelOrderReductionToolkit.jl"/><meta property="og:title" content="Additional Docstrings · ModelOrderReductionToolkit.jl"/><meta property="twitter:title" content="Additional Docstrings · ModelOrderReductionToolkit.jl"/><meta name="description" content="Documentation for ModelOrderReductionToolkit.jl."/><meta property="og:description" content="Documentation for ModelOrderReductionToolkit.jl."/><meta property="twitter:description" content="Documentation for ModelOrderReductionToolkit.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">ModelOrderReductionToolkit.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="index.html">Models and Reductors</a></li><li><a class="tocitem" href="rbm_tutorial.html">RBM Tutorial</a></li><li class="is-active"><a class="tocitem" href="docs.html">Additional Docstrings</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="docs.html">Additional Docstrings</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="docs.html">Additional Docstrings</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/master/docs/src/docs.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Additional-ModelOrderReductionToolkit.jl-Docstrings"><a class="docs-heading-anchor" href="#Additional-ModelOrderReductionToolkit.jl-Docstrings">Additional ModelOrderReductionToolkit.jl Docstrings</a><a id="Additional-ModelOrderReductionToolkit.jl-Docstrings-1"></a><a class="docs-heading-anchor-permalink" href="#Additional-ModelOrderReductionToolkit.jl-Docstrings" title="Permalink"></a></h1><h3 id="Models"><a class="docs-heading-anchor" href="#Models">Models</a><a id="Models-1"></a><a class="docs-heading-anchor-permalink" href="#Models" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.galerkin_project"><a class="docstring-binding" href="#ModelOrderReductionToolkit.galerkin_project"><code>ModelOrderReductionToolkit.galerkin_project</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><code>rom = galerkin_project(model::LinearModel, V[, W=V; r=-1])</code></p><p>Perform (Petrov) Galerkin projection on a linear model where the trial space is the first <code>r</code> columns of <code>V</code> and the test space is the first <code>r</code> columns of <code>W</code>. If <code>r=-1</code>, uses all columns. Returns a new <code>LinearModel</code>.</p><p><code>W&#39; * A(p) * V * x_r = W&#39; * b(p),</code>V * x_r ≈ x = A(p)^(-1) b(p)`</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/models/linear_model.jl#L57-L66">source</a></section><section><div><p><code>rom = galerkin_project(model::LinearMatrixModel, V[, W=V; r=-1])</code></p><p>Perform (Petrov) Galerkin projection on each linear model in <code>model.models</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/models/linear_matrix_model.jl#L108-L112">source</a></section><section><div><p><code>galerkin_project(model, V[, W=V; WTEVisI=false, r=-1])</code></p><p>Performs Galerkin projection on the <code>model &lt;: LTIModel</code> and returns a new <code>LTIModel</code>. By default, assumes that <code>WᵀV=I</code>, if <code>WTEVisI==true</code>, then assumes that <code>WᵀEV=I</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/models/lti.jl#L258-L264">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.galerkin_add!"><a class="docstring-binding" href="#ModelOrderReductionToolkit.galerkin_add!"><code>ModelOrderReductionToolkit.galerkin_add!</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><code>galerkin_add!(rom::LinearModel, fom::LinearModel, v, Vold[, w=v, Wold=Vold; r=-1])</code></p><p>Assuming that <code>rom = galerkin_project(model, Vold, Wold)</code>, updates <code>rom</code> such that if <code>V = [Vold v]</code> and <code>W = [Wold w]</code>, then <code>rom = galerkin_project(model, V, W)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/models/linear_model.jl#L83-L89">source</a></section><section><div><p><code>galerkin_add!(rom::LinearMatrixModel, fom::LinearMatrixModel, v, Vold[, w=v, Wold=Vold; r=-1])</code></p><p>Assuming that <code>rom = galerkin_project(fom, Vold, Wold)</code>, updates <code>rom</code> such that if <code>V = [Vold v]</code> and <code>W = [Wold w]</code>, then <code>rom = galerkin_project(fom, V, W)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/models/linear_matrix_model.jl#L133-L139">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.PoissonModel"><a class="docstring-binding" href="#ModelOrderReductionToolkit.PoissonModel"><code>ModelOrderReductionToolkit.PoissonModel</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><code>model = PoissonModel([; Nx=999, P=3])</code></p><p>Uses finite differences on the following PDE to generate a <code>LinearModel</code> with parameter  dependence. Change discretization with <code>Nx</code>,  and change number of parameters, and hence number of affine terms, with <code>P</code>.</p><p><code>- ∂_x (κ(x, p) ∂_x u(x, p)) = f(x)</code></p><p><code>u(0,p) = 0; u(1,p) = p[1]</code></p><p><code>κ(x,p) = (1.05 - (1/2)^(P-1)) + 0.5 p[2] sin(2πx) + 0.25 p[3] sin(4πx) + ... + (1/2)^(P-1) p[P] sin(2π * P * x)</code></p><p><code>f(x,p) = (0.25 .&lt; x .&lt; 0.75) .* 10.0</code></p><p><code>length(p) = P; 0 ≤ p[i] ≤ 1</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/models/built_in.jl#L1-L19">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.PenzlModel"><a class="docstring-binding" href="#ModelOrderReductionToolkit.PenzlModel"><code>ModelOrderReductionToolkit.PenzlModel</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><code>model = PenzlModel()</code></p><p>Generates the standard Penzl <code>LTIModel</code> with one input, one output, and <code>ns=1006</code> dimension state variable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/models/built_in.jl#L80-L85">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.MISOPenzlModel"><a class="docstring-binding" href="#ModelOrderReductionToolkit.MISOPenzlModel"><code>ModelOrderReductionToolkit.MISOPenzlModel</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><code>model = MISOPenzlModel()</code></p><p>Generates an <code>LTIModel</code> with three inputs, one output,  and a state of dimension <code>ns=1006</code>. Same structure as the  Penzl model except the <code>B</code> matrix is changed to</p><pre><code class="nohighlight hljs">1006×3 Matrix{Float64}:
 10.0   0.0   0.0
 10.0   0.0   0.0
  0.0  10.0   0.0
  0.0  10.0   0.0
  0.0   0.0  10.0
  0.0   0.0  10.0
  1.0   1.0   1.0
  ⋮
  1.0   1.0   1.0
  1.0   1.0   1.0
  1.0   1.0   1.0
  1.0   1.0   1.0
  1.0   1.0   1.0
  1.0   1.0   1.0
  1.0   1.0   1.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/models/built_in.jl#L109-L134">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.to_frequency_domain"><a class="docstring-binding" href="#ModelOrderReductionToolkit.to_frequency_domain"><code>ModelOrderReductionToolkit.to_frequency_domain</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><code>frequency_model = to_frequency_domain(model, logfreq=false)</code></p><p>Assuming null initial conditions, uses the Laplace transform to convert the <code>LTIModel</code> into a <code>LinearMatrixModel</code> for which the first element of the parameter vector is the imaginary part of the frequency variable. The model is of the form <code>sE(p) X = A(p) X + B(p)</code> where <code>X</code> is the Laplace variable for <code>X</code> and <code>s = 0 + iω</code>. If <code>logfreq=true</code>, then scales ω such that <code>p[1] = log10(ω)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/models/lti.jl#L213-L223">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.to_ss"><a class="docstring-binding" href="#ModelOrderReductionToolkit.to_ss"><code>ModelOrderReductionToolkit.to_ss</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><code>to_ss(model[, p=nothing])</code></p><p>Initializes the model to the parameter <code>p</code> if passed in, then returns a <code>ControlSystems.jl</code> <code>StateSpace</code> object. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/models/lti.jl#L185-L191">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.to_dss"><a class="docstring-binding" href="#ModelOrderReductionToolkit.to_dss"><code>ModelOrderReductionToolkit.to_dss</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><code>to_dss(model[, p=nothing])</code></p><p>Initializes the model to the parameter <code>p</code> if passed in, then returns a <code>DescriptorSystems.jl</code> <code>DescriptorStateSpace</code> object. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/models/lti.jl#L199-L205">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.to_ode_problem"><a class="docstring-binding" href="#ModelOrderReductionToolkit.to_ode_problem"><code>ModelOrderReductionToolkit.to_ode_problem</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><code>to_ode_problem(model[, p=nothing; u=(t-&gt;zeros(size(model.B, 2))), x0=0.0, tspan=(0,1)])</code></p><p>Creates an <code>ODEProblem</code> for the <code>model &lt;: LTISystem</code> for a given input <code>u(t)</code>. Note that this is the ODE for the state variable <code>x</code>. Once have formed the solution object, will have to multiply by <code>model.C</code> to get the output <code>y</code>. Note that <code>DifferentialEquations.jl</code> names the output <code>u</code>, which for this problem is the state variable <code>x</code>, not the input <code>u</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/models/lti.jl#L162-L170">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.bode"><a class="docstring-binding" href="#ModelOrderReductionToolkit.bode"><code>ModelOrderReductionToolkit.bode</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><code>bode(model::LTIModel, ω::Real[, p=nothing; first=true])</code></p><p>Returns the transfer function evaluated at <code>s=im*ω</code>, <code>C * (sE - A)^(-1) B + D</code>, evaluated at the <code>[1,1]</code> entry if <code>first==true</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/models/lti.jl#L124-L129">source</a></section><section><div><p><code>bode(model::LTIModel, ωs::AbstractVector{&lt;:Union{AbstractVector,Real}}[, p=nothing; first=true])</code></p><p>Returns the transfer function evaluated at <code>s=im*ω</code> for <code>ω in ωs</code>, evaluated at the <code>[1,1]</code> entry if <code>first==true</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/models/lti.jl#L143-L148">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.ParameterizedPenzlModel"><a class="docstring-binding" href="#ModelOrderReductionToolkit.ParameterizedPenzlModel"><code>ModelOrderReductionToolkit.ParameterizedPenzlModel</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><code>model = ParameterizedPenzlModel()</code></p><p>Generates an <code>LTIModel</code> with one input, one output,  and a state of dimension <code>ns=1006</code>. Same structure as the  Penzl model, expect depends on a parameter vector of length 3 which shift the poles along the complex axis. Instantiate to a parameter vector by calling <code>model([p1,p2,p3])</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/models/built_in.jl#L164-L173">source</a></section></details></article><h3 id="Reductors"><a class="docs-heading-anchor" href="#Reductors">Reductors</a><a id="Reductors-1"></a><a class="docs-heading-anchor-permalink" href="#Reductors" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.StabilityResidualErrorEstimator"><a class="docstring-binding" href="#ModelOrderReductionToolkit.StabilityResidualErrorEstimator"><code>ModelOrderReductionToolkit.StabilityResidualErrorEstimator</code></a> — <span class="docstring-category">Type</span></summary><section><div><p><code>StabilityResidualErrorEstimator &lt;: ErrorEstimator</code></p><p>Error estimator for a <code>LinearModel</code> which approximates the  stability factor with <code>stability_estimator(p)</code> and computes  the residual norm with <code>residual_norm</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/reductors/weak_greedy.jl#L17-L23">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.form_rom"><a class="docstring-binding" href="#ModelOrderReductionToolkit.form_rom"><code>ModelOrderReductionToolkit.form_rom</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><code>form_rom(pod_reductor, r=-1)</code></p><p>Pulls the first <code>r</code> left singular vectors from  <code>pod_reductor.decomp</code>, and then Galerkin projects <code>pod_reductor.model</code> onto that basis, and returns the resulting ROM.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/reductors/pod.jl#L101-L108">source</a></section><section><div><p><code>form_rom(sg_reductor, r=-1)</code></p><p>Calls <code>galerkin_project</code> on the FOM and returns a ROM with RB of dimension <code>r</code>. If <code>r=-1</code>, uses all available columns of <code>sg_reductor.V</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/reductors/strong_greedy.jl#L102-L108">source</a></section><section><div><p><code>form_rom(wg_reductor, r=-1)</code></p><p>Calls <code>galerkin_project</code> on the FOM and returns a ROM with RB of dimension <code>r</code>. If <code>r=-1</code>, uses all available columns of <code>wg_reductor.V</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/reductors/weak_greedy.jl#L225-L231">source</a></section><section><div><p><code>form_rom(bt_reductor[, r=-1])</code></p><p>Uses Petrov-Galerkin on the model to form a ROM of order <code>r</code> (largest possible if <code>r==-1</code>). Also, initializes it to <code>bt_reductor.p</code> if not nothing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/reductors/bt.jl#L97-L103">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.lift"><a class="docstring-binding" href="#ModelOrderReductionToolkit.lift"><code>ModelOrderReductionToolkit.lift</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><code>lift(pod_reductor, x_r)</code></p><p>Given a solution array <code>x_r</code> to a ROM formed by the <code>pod_reductor</code> lifts the solution(s) to the same dimension of the FOM.  </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/reductors/pod.jl#L114-L120">source</a></section><section><div><p><code>lift(sg_reductor, x_r)</code></p><p>Given a solution array <code>x_r</code> to a ROM formed by the <code>sg_reductor</code> lifts the solution(s) to the same dimension of the FOM. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/reductors/strong_greedy.jl#L114-L120">source</a></section><section><div><p><code>lift(wg_reductor, x_r)</code></p><p>Given a solution array <code>x_r</code> to a ROM formed by the <code>wg_reductor</code> lifts the solution(s) to the same dimension of the FOM. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/reductors/weak_greedy.jl#L256-L262">source</a></section><section><div><p><code>lift(bt_reductor, x_r)</code></p><p>Given a solution array <code>x_r</code> to a ROM formed by the <code>bt_reductor</code> lifts the solution(s) to the same dimension of the FOM.   </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/reductors/bt.jl#L112-L118">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.add_to_rb!"><a class="docstring-binding" href="#ModelOrderReductionToolkit.add_to_rb!"><code>ModelOrderReductionToolkit.add_to_rb!</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><code>add_to_rb!(pod_reductor, snapshots[; noise=1])</code></p><p>Directly updates <code>pod_reductor</code> with new snapshots given in the columns of the matrix <code>snapshots</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/reductors/pod.jl#L42-L47">source</a></section><section><div><p><code>add_to_rb!(pod_reductor, parameters[; noise=0, progress=false])</code></p><p>Loops through the vector of <code>parameters</code>, forms their full order solutions, adds them to <code>pod_reductor.snapshots</code>, and then updates the singular values  and singular vectors in <code>pod_reductor.S</code> and <code>pod_reductor.V</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/reductors/pod.jl#L67-L73">source</a></section><section><div><p><code>add_to_rb!(sg_reductor, snapshots[; noise=0])</code></p><p>Directly updates <code>sg_reductor</code> with new snapshots given in the columns of the matrix <code>snapshots</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/reductors/strong_greedy.jl#L42-L47">source</a></section><section><div><p><code>add_to_rb!(sg_reductor, parameters[; noise=0, progress=false])</code></p><p>Loops through the vector of <code>parameters</code>, forms their full order solutions, adds them to <code>sg_reductor.snapshots</code>, and then updates the reduced basis in <code>sg_reductor.V</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/reductors/strong_greedy.jl#L68-L74">source</a></section><section><div><p><code>add_to_rb!(wg_reductor, params[; noise=0, progress=false, eps=0.0, zero_tol=1e-15])</code></p><p>Loops through the vector of parameters <code>params</code>, computes the approximate estimator for each, selects the one with the highest error, and updates <code>wg_reductor</code> with  the corresponding full order solution. Returns <code>true</code> if a vector is added to the RB, <code>false</code> otherwise.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/reductors/weak_greedy.jl#L141-L148">source</a></section><section><div><p><code>add_to_rb!(wg_reductor, params, r[; noise=0, eps=0.0, zero_tol=1e-15])</code></p><p>Adds to <code>wg_reductor</code> at least <code>r</code> times by calling  <code>add_to_rb!(wg_reductor, params, noise=noise, eps=eps, zero_tol=zero_tol)</code> several times. If all <code>r</code> are added, returns <code>true</code>, otherwise <code>false</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/reductors/weak_greedy.jl#L208-L214">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.get_rom"><a class="docstring-binding" href="#ModelOrderReductionToolkit.get_rom"><code>ModelOrderReductionToolkit.get_rom</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><code>get_rom(wg_reductor)</code></p><p>Helper method for getting the ROM from the  <code>wg_reductor</code> object. Can otherwise obtain it through <code>wg_reductor.rom</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/reductors/weak_greedy.jl#L245-L251">source</a></section></details></article><h3 id="Affinely-parameter-dependent-arrays:"><a class="docs-heading-anchor" href="#Affinely-parameter-dependent-arrays:">Affinely parameter-dependent arrays:</a><a id="Affinely-parameter-dependent-arrays:-1"></a><a class="docs-heading-anchor-permalink" href="#Affinely-parameter-dependent-arrays:" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.APArray"><a class="docstring-binding" href="#ModelOrderReductionToolkit.APArray"><code>ModelOrderReductionToolkit.APArray</code></a> — <span class="docstring-category">Type</span></summary><section><div><p><code>AffineParametrizedArray(arrays, makeθi[, precompθ=false])</code></p><p>Struct for containing an affine parametrized array <code>A(p)</code> of the form <code>A(p) = ∑ makeθi(p,i) * arrays[i]</code>.</p><p>Arrays are stored in the vector <code>arrays</code> for quick recomputation for new parameter values. Each must be of the same size and dimension so that they can be  broadcast summed.</p><p>If precompθ set to <code>false</code> (default):</p><p>The function <code>makeθi(p,i)</code> takes in a parameter object first, and second an index <code>i=1,...,length(arrays)</code>, and returns a scalar</p><p>If <code>precompθ</code> set to <code>true</code>:</p><p>The function <code>makeθi(p)</code> takes in a parameter object, and returns a vector of each of the affine terms.</p><p>Given <code>aparr &lt;: AffineParametrizedArray</code>, and a new parameter value <code>p</code>,  can form the full array <code>A(p)</code> by calling <code>aparr(p)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/ap_arrays.jl#L35">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.formArray!"><a class="docstring-binding" href="#ModelOrderReductionToolkit.formArray!"><code>ModelOrderReductionToolkit.formArray!</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><code>formArray!(aparr, arr, p)</code></p><p>Given an array <code>arr</code> with the same dimensions as the arrays in the APArray <code>aparr</code>, form <code>A(p)</code> and place its values in <code>arr</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/ap_arrays.jl#L42-L47">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.eim"><a class="docstring-binding" href="#ModelOrderReductionToolkit.eim"><code>ModelOrderReductionToolkit.eim</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><code>eim(arrFun, param_disc[, ϵ=1e-2; maxM=100, noise=1])</code></p><p>Method for constructing an <code>APArray</code> object from a non-affinely parameter dependent matrix <code>arrFun(p)</code> by empirical interpolation. </p><p><code>param_disc</code> must be a matrix with columns as parameter vectors, or a vector with elements as parameters.</p><p>Loops over the given parameter discretization until a maximum ∞-norm error  of <code>ϵ</code> is achieved over the entire discretization, or until the maximum number of parameter values are chosen, given by <code>maxM</code>.</p><p><code>noise</code> dictates the amount of printed output. Set <code>0</code> for no output, <code>1</code> for some output, <code>≥2</code> for most.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/ap_arrays.jl#L69-L84">source</a></section></details></article><h3 id="Matrices-as-vector-of-vectors:"><a class="docs-heading-anchor" href="#Matrices-as-vector-of-vectors:">Matrices as vector of vectors:</a><a id="Matrices-as-vector-of-vectors:-1"></a><a class="docs-heading-anchor-permalink" href="#Matrices-as-vector-of-vectors:" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.VOV"><a class="docstring-binding" href="#ModelOrderReductionToolkit.VOV"><code>ModelOrderReductionToolkit.VOV</code></a> — <span class="docstring-category">Type</span></summary><section><div><p><code>VectorOfVectors{T} &lt;: AbstractMatrix{T}</code></p><p>Type for defining matrices as vectors of vectors for  quick insertion of rows and columns. Stores the columns as vectors in <code>vecs</code> and its size in <code>size</code>.</p><p>Construct an empty <code>VOV</code> of dimensions <code>(nrows × ncols)</code> where  one of <code>nrows</code> or <code>ncols</code> must be zero:</p><p><code>VectorOfVectors(nrows=0, ncols=0, T=Float64)</code></p><p>Construct a <code>VOV</code> from a Julia vector of vectors:</p><p><code>VectorOfVectors(vecs::AbstractVector{&lt;:AbstractVector{T}})</code></p><p>Construct a <code>VOV</code> from a matrix:</p><p><code>VectorOfVectors(M::AbstractMatrix{T})</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/vector_of_vectors.jl#L57">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.addRow!"><a class="docstring-binding" href="#ModelOrderReductionToolkit.addRow!"><code>ModelOrderReductionToolkit.addRow!</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><code>addRow!(vov::VectorOfVectors)</code></p><p>Add a row to the vector of vectors by appending <code>zero(T)</code> to each vector.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/vector_of_vectors.jl#L77-L82">source</a></section><section><div><p><code>addRow!(vov::VectorOfVectors, row::AbstractVector)</code></p><p>Add the vector <code>row</code> to the last column of <code>vov</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/vector_of_vectors.jl#L90-L94">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.removeRow!"><a class="docstring-binding" href="#ModelOrderReductionToolkit.removeRow!"><code>ModelOrderReductionToolkit.removeRow!</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><code>removeRow!(vov::VectorOfVectors)</code></p><p>Remove a row from the vector of vectors.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/vector_of_vectors.jl#L106-L110">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.addCol!"><a class="docstring-binding" href="#ModelOrderReductionToolkit.addCol!"><code>ModelOrderReductionToolkit.addCol!</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><code>addCol!(vov::VectorOfVectors)</code></p><p>Add a column to the vector of vectors by appending <code>zeros(T,nrow)</code> to <code>vov.vecs</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/vector_of_vectors.jl#L119-L124">source</a></section><section><div><p><code>addCol!(vov::VectorOfVectors, col::AbstractVector)</code></p><p>Add the vector <code>row</code> to the last column of <code>vov</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/vector_of_vectors.jl#L132-L136">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.removeCol!"><a class="docstring-binding" href="#ModelOrderReductionToolkit.removeCol!"><code>ModelOrderReductionToolkit.removeCol!</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><code>removeCol!(vov::VectorOfVectors)</code></p><p>Remove a column from the vector of vectors.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/vector_of_vectors.jl#L147-L151">source</a></section></details></article><h3 id="Successive-constraint-method-(SCM):"><a class="docs-heading-anchor" href="#Successive-constraint-method-(SCM):">Successive constraint method (SCM):</a><a id="Successive-constraint-method-(SCM):-1"></a><a class="docs-heading-anchor-permalink" href="#Successive-constraint-method-(SCM):" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.SCM"><a class="docstring-binding" href="#ModelOrderReductionToolkit.SCM"><code>ModelOrderReductionToolkit.SCM</code></a> — <span class="docstring-category">Type</span></summary><section><div><p><code>SCM{P} &lt;: AbstractSCM &lt;: Function where P &lt;: Int</code></p><p>An SCM object for a SPD APArray matrix <code>Ap</code>. For non-SPD  matrix <code>Ap</code>, can form Grammian matrix <code>Ap&#39;Ap</code> and perform SCM on it.</p><p><code>scm = SCM(Ap::APArray, ps::AbstractVector[, ϵ=0.8, Mα=20, Mp=0; coercive=false,  optimizer=HiGHS.Optimizer, lp_attrs=Dict(), make_monotonic=true, max_iter=500, noise=0])</code></p><p>Constructs an <code>SCM</code> object for <code>Ap</code> about parameter values <code>ps</code>. If <code>coercive=false</code>, then constructs the Grammian matrix <code>Ap(p)&#39;Ap(p)</code>. If <code>hermitianpart(Ap(p))</code> is positive definite for all <code>p</code>, then set <code>coercive=true</code>. Constrains the <code>SCM</code> object to a relative gap of <code>ϵ</code>. If  set <code>ϵ=nothing</code>, then does not perform constraining. <code>Mα</code> and <code>Mp</code> are the stability and  positivity parameters, <code>optimizer</code> is the optimizer used for solving LPs in JuMP. <code>lp_attrs</code> can contain additional attributes to pass into the JuMP model (optimizer dependent).  <code>make_monotonic</code> ensures that the lower-bound predictions increase monotonically. <code>max_iter</code>  is the maximum number of SCM constraining iterations. <code>noise</code> determines the amount of printed output.</p><p>The <code>scm</code> object may be used by calling it on a parameter vector</p><p><code>scm(p[, Mα=20, Mp=0; which=:L, noise=0])</code></p><p>Which returns the following:</p><ul><li><code>which=:L</code> - The lower-bound prediction at <code>p</code></li><li><code>which=:U</code> - The upper-bound prediction at <code>p</code></li><li><code>which=:E</code> - The relative gap <code>1 - LB/UB</code> at <code>p</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/scm.jl#L11-L39">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.ANLSCM"><a class="docstring-binding" href="#ModelOrderReductionToolkit.ANLSCM"><code>ModelOrderReductionToolkit.ANLSCM</code></a> — <span class="docstring-category">Type</span></summary><section><div><p><code>ANLSCM{P} &lt;: AbstractSCM &lt;: Function where P &lt;: Int</code></p><p>An SCM object for an APArray matrix <code>Ap</code> which uses nonlinear constraining. </p><p><code>scm = ANLSCM(Ap::APArray, ps::AbstractVector[, ϵ=0.8, Mα=20; optimizer=Ipopt.Optimizer,  lp_attrs=Dict(), nonlin_alpha=0.0, max_iter=500, noise=0, constrain_kwargs...])</code></p><p>Constructs an <code>ANLSCM</code> object for <code>Ap</code> about parameter values <code>ps</code>. Constrains the <code>ANLSCM</code>  object to a relative gap of <code>ϵ</code>. If set <code>ϵ=nothing</code>, then does not perform constraining.  <code>Mα</code> is the stability parameter. <code>optimizer</code> is the optimizer used for solving NLPs in JuMP. <code>lp_attrs</code> can contain additional attributes to pass into the JuMP model (optimizer dependent).  <code>nonlin_alpha</code> is the initial value of nonlinear constraint coefficients (0 for lightest constraint, 1 for tightest and LB guarantee). <code>max_iter</code> is the maximum number of SCM constraining iterations. <code>noise</code> determines the amount of printed output. Additional kwargs passed to <code>constrain!</code>.</p><p>The <code>scm</code> object may be used by calling it on a parameter vector</p><p><code>scm(p[, Mα=20; which=:L, noise=0])</code></p><p>Which returns the following:</p><ul><li><code>which=:L</code> - The lower-bound prediction at <code>p</code></li><li><code>which=:U</code> - The upper-bound prediction at <code>p</code></li><li><code>which=:E</code> - The relative gap <code>1 - LB/UB</code> at <code>p</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/scm.jl#L53-L79">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.NNSCM"><a class="docstring-binding" href="#ModelOrderReductionToolkit.NNSCM"><code>ModelOrderReductionToolkit.NNSCM</code></a> — <span class="docstring-category">Type</span></summary><section><div><p><code>NNSCM{P} &lt;: AbstractSCM &lt;: Function where P &lt;: Int</code></p><p>An SCM object for an APArray matrix <code>Ap</code> which uses domain decomposition and works in a natural norm. See Huynh et al., 2010, A natural norm...</p><p><code>scm = NNSCM(Ap::APArray, ps::AbstractVector[, ϵ=0.8, ϵ_β=0.8, ϕ=0.0, Mα=20; optimizer=HiGHS.Optimizer,  lp_attrs=Dict(), max_iter=500, max_inner_iter=500, noise=0, constrain_kwargs...])</code></p><p>Constructs an <code>NNSCM</code> object for <code>Ap</code> about parameter values <code>ps</code>. Constrains the <code>NNSCM</code>  object to a relative gap of <code>ϵ</code>. If set <code>ϵ=nothing</code>, then does not perform constraining.  <code>ϵ_β</code> is the natural-norm relative gap ensured within subdomains. <code>ϕ</code> is the minimum natural-norm lower-bound prediction required to be considered within a domain. <code>Mα</code> is the stability parameter. <code>optimizer</code> is the optimizer used for solving NLPs in JuMP. <code>lp_attrs</code> can contain additional attributes to pass into the JuMP model (optimizer dependent).  <code>max_iter</code> is the maximum number of SCM constraining iterations and <code>max_inner_iter</code> is the maximum number of iterations within a particular domain decomposition.  <code>noise</code> determines the amount of printed output. Additional kwargs passed to <code>constrain!</code>.</p><p>The <code>scm</code> object may be used by calling it on a parameter vector</p><p><code>scm(p[, Mα=20; pbar=nothing, which=:L, noise=0])</code></p><p>Which returns the following:</p><ul><li><code>which=:L</code> - The lower-bound prediction at <code>p</code></li><li><code>which=:U</code> - The upper-bound prediction at <code>p</code></li><li><code>which=:E</code> - The relative gap <code>1 - LB/UB</code> at <code>p</code></li></ul><p>If <code>pbar</code> is not nothing, then if <code>pbar in keys(scm.UBs)</code>, solves the above restricted to the domain decomposition about <code>pbar</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/scm.jl#L91-L123">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.copy_scm"><a class="docstring-binding" href="#ModelOrderReductionToolkit.copy_scm"><code>ModelOrderReductionToolkit.copy_scm</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><code>copy_scm(scm::SCM[; lp_attrs=Dict(), noise=0])</code></p><p>Makes a copy of <code>scm</code> and provides <code>lp_attrs</code> to the new JuMP model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/scm.jl#L336-L340">source</a></section><section><div><p><code>copy_scm(scm::ANLSCM[; nonlin_alpha=0.0, lp_attrs=Dict(), noise=0])</code></p><p>Makes a copy of <code>scm</code> with initial nonlinear constraint coefficients <code>nonlin_alpha</code>  and provides <code>lp_attrs</code> to the new JuMP model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/scm.jl#L347-L352">source</a></section><section><div><p><code>copy_scm(scm::NNSCM[; lp_attrs=Dict(), noise=0])</code></p><p>Makes a copy of <code>scm</code> and provides <code>lp_attrs</code> to the new JuMP model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/scm.jl#L359-L363">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.constrain!"><a class="docstring-binding" href="#ModelOrderReductionToolkit.constrain!"><code>ModelOrderReductionToolkit.constrain!</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><code>constrain!(scm::SCM, ps::AbstractVector, ϵ::Real, Mα::Int, Mp::Int[; make_monotonic=true, max_iter=500, noise=0, reigkwargs...])</code></p><p>Constrains <code>scm</code> about parameters <code>ps</code> to relative gap <code>ϵ</code>. <code>Mα</code> and <code>Mp</code> are the stability and positivity constraints respectively. <code>make_monotonic</code> ensures LB predictions increase monotonically. <code>max_iter</code> is the maximum number of SCM  iterations ran. <code>noise</code> determines amount of printed output. See documentation of <code>ModelOrderReductionToolkit.reig</code> for arguments to <code>reigkwargs</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/scm.jl#L615-L622">source</a></section><section><div><p><code>constrain!(scm::ANLSCM, ps::AbstractVector, ϵ::Real, Mα::Int[; adaptive_nl_rate=1.1, adaptive_eps_tol=1e-6, max_iter=500, noise=0, reigkwargs...])</code></p><p>Constrains <code>scm</code> about parameters <code>ps</code> to relative gap <code>ϵ</code>. <code>Mα</code> is the stability constraint.  <code>adaptive_nl_rate</code> and <code>adaptive_eps_tol</code> determine when to and rate at which to loosen nonlinear constraints.  Set <code>adaptive_nl_rate=nothing</code> for no adaptive updating. <code>max_iter</code> is the maximum number of SCM iterations ran. <code>noise</code> determines amount of printed output. See <code>ModelOrderReductionToolkit.reig</code> for arguments to <code>reigkwargs</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/scm.jl#L792-L800">source</a></section><section><div><p><code>constrain!(scm::NNSCM, ps::AbstractVector, pbar::AbstractVector[, ϵ_β=0.8, ϕ=0.0, Mα=20, ps_left=trues(length(ps)); max_iter=500, p_choice=3, noise=0, reigkwargs...])</code></p><p>Constrains the <code>pbar</code>-domain decomposition of the <code>scm</code> about parameters <code>ps</code>. <code>ϵ_β</code> determines the natural-norm relative gap, <code>ϕ</code> determines the minimum LB prediction required for inclusion in domain, <code>Mα</code> is the stability parameter, <code>ps_left</code> is a vector of which parameters to consider, <code>max_iter</code> is maximum number of iterations.</p><p><code>p_choice</code> can be 1, 2, or 3. </p><ul><li><code>p_choice=1</code> - Only add parameter with highest natural norm relative gap</li><li><code>p_choice=2</code> - Only add parameter within domain (<code>LB ≥ ϕ</code>) with highest natural norm relative gap</li><li><code>p_choice=3</code> - Do both of above</li></ul><p>See <code>ModelOrderReductionToolkit.reig</code> for arguments to <code>reigkwargs</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/scm.jl#L985-L998">source</a></section><section><div><p><code>constrain!(scm::NNSCM, ps::AbstractVector, ϵ::Real[, ϵ_β=0.8, ϕ=0.0, Mα=20; pruning=false, removals=false, eps_keep=0.2, p_choice=3, max_iter=500, max_inner_iter=500, noise=0, reigkwargs...])</code></p><p>Constrains <code>scm</code> about parameters <code>ps</code> to relative gap <code>ϵ</code> with inner-maximum relative gap <code>ϵ_β</code> and domain-inclusion  parameter <code>ϕ</code>. <code>Mα</code> is the stability constraint. <code>pruning</code> determines whether or not to exclude parameters from consideration when their relative gap decreases below <code>ϵ</code> for a greedier procedure. <code>removals</code> determines whether or not to try removing unnecessary domains at the start of each iteration with tolerance <code>eps_keep</code>. See other <code>constrain!</code> method for <code>p_choice</code>. <code>max_iter</code> is the maximum number of SCM iterations ran and <code>max_inner_iter</code> determines the maximum number of iterations per domain decomposition. <code>noise</code> determines amount of printed output.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/scm.jl#L1098-L1107">source</a></section></details></article><h3 id="Radial-basis-interpolatory-stability-factor"><a class="docs-heading-anchor" href="#Radial-basis-interpolatory-stability-factor">Radial-basis interpolatory stability factor</a><a id="Radial-basis-interpolatory-stability-factor-1"></a><a class="docs-heading-anchor-permalink" href="#Radial-basis-interpolatory-stability-factor" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.Sigma_Min_RBF"><a class="docstring-binding" href="#ModelOrderReductionToolkit.Sigma_Min_RBF"><code>ModelOrderReductionToolkit.Sigma_Min_RBF</code></a> — <span class="docstring-category">Type</span></summary><section><div><p><code>Sigma_Min_RBF</code></p><p>A mutable struct used for approximating the minimum singular value of a matrix  with parametric dependence <code>A(p)</code>. Given  a new parameter value <code>p</code>, approximate <code>σ_min(A(p))</code> with <code>sigma_min_rbf(p)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/stability_radial_basis.jl#L8-L16">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.min_sigma_rbf"><a class="docstring-binding" href="#ModelOrderReductionToolkit.min_sigma_rbf"><code>ModelOrderReductionToolkit.min_sigma_rbf</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><code>min_sigma_rbf(params, Ais, makeθAi[, ϕ=gaussian_rbf])</code></p><p>Method to form a interpolatory radial-basis function functor to approximate the minimum singular value of a parametrized matrix <code>A(p)</code>. Pass as input either a matrix <code>params</code> where each column is a parameter vector, or a vector  of vectors <code>params</code> where each vector is a parameter. </p><p>Optional argument for the radial-basis function <code>ϕ</code>, which defaults to the Gaussian <code>ϕ(r) = exp(-r^2)</code>.</p><p>Returns a functor <code>sigma_min_rbf &lt;: Sigma_Min_RBF</code> such that given a new parameter vector <code>p</code>, <code>sigma_min_rbf(p)</code> returns an approximation to the minimum singular value of <code>A(p)</code>.</p><p>Offline, solves for the minimum singular value for each parameter in <code>params</code>, and uses this to form an interpolatory approximation in the form of <code>log(σ_min(A(p))) ≈ ω_0 + ∑ (ω_i p_i) + ∑ (γ_i ϕ(p - p_i))</code> where <code>p_i</code> is the i&#39;th parameter in <code>params</code>, and <code>ω_0</code>, <code>ω_i</code>, and <code>γ_i</code> are determined by the given <code>params</code> such that the approximation holds true for all <code>p_i</code>, and that <code>∑ γ_i = 0</code>, and that <code>∑ γ_i p_i[j] = 0</code> for each <code>j</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/stability_radial_basis.jl#L38-L62">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.update_sigma_rbf!"><a class="docstring-binding" href="#ModelOrderReductionToolkit.update_sigma_rbf!"><code>ModelOrderReductionToolkit.update_sigma_rbf!</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><code>update_sigma_rbf!(sigma_min_rbf, ϕ)</code></p><p>Given a <code>Sigma_Min_RBF</code> object <code>sigma_min_rbf</code>, update its RBF, <code>ϕ</code>, and update the coefficients.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/stability_radial_basis.jl#L125-L130">source</a></section></details></article><h3 id="Computation-of-norm-of-residual"><a class="docs-heading-anchor" href="#Computation-of-norm-of-residual">Computation of norm of residual</a><a id="Computation-of-norm-of-residual-1"></a><a class="docs-heading-anchor-permalink" href="#Computation-of-norm-of-residual" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.ResidualNormComputer"><a class="docstring-binding" href="#ModelOrderReductionToolkit.ResidualNormComputer"><code>ModelOrderReductionToolkit.ResidualNormComputer</code></a> — <span class="docstring-category">Type</span></summary><section><div><p><code>res &lt;: ResidualNormComputer{T}</code></p><p>Abstract type for computing the norm of the residual for weak greedy RB methods. Must implement the <code>update!(res, v)</code> and <code>compute(res, u_r, p)</code> methods.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/residual_norm.jl#L1-L7">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.StandardResidualNormComputer"><a class="docstring-binding" href="#ModelOrderReductionToolkit.StandardResidualNormComputer"><code>ModelOrderReductionToolkit.StandardResidualNormComputer</code></a> — <span class="docstring-category">Type</span></summary><section><div><p><code>StandardResidualNormComputer{T} &lt;: ResidualNormComputer{T}</code> <code>StandardResidualNormComputer(Ap::APArray,bp::APArray,V=nothing,X=nothing)</code></p><p>A struct for containing the necessary vectors and matrices for quickly compute the <code>X</code>-norm of the residual, <code>r(u_r,p) = A(p) (u - V u_r) = b(p) - A(p) V u_r</code>, by taking advantage of affine parameter dependence of <code>A(p)</code> and <code>b(p)</code>.</p><p>Here, <code>u</code> solves <code>A(p) u = b(p)</code> with <code>A</code> and <code>b</code> having affine parameter dependence, and <code>V</code> is a matrix with columns defining bases for approximation spaces <code>u ≈ V u_r</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/residual_norm.jl#L30-L44">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.ProjectionResidualNormComputer"><a class="docstring-binding" href="#ModelOrderReductionToolkit.ProjectionResidualNormComputer"><code>ModelOrderReductionToolkit.ProjectionResidualNormComputer</code></a> — <span class="docstring-category">Type</span></summary><section><div><p><code>ProjectionResidualNormComputer{T} &lt;: ResidualNormComputer{T}</code> <code>ProjectionResidualNormComputer(Ap::APArray,bp::APArray,V=nothing,X=nothing)</code></p><p>A struct for containing the necessary vectors and matrices for quickly compute the <code>X</code>-norm of the residual, <code>r(u_r,p) = A(p) (u - V u_r) = b(p) - A(p) V u_r</code>, by taking advantage of affine parameter dependence of <code>A(p)</code> and <code>b(p)</code>. Uses a projection method which is more stable than the standard method.</p><p>Here, <code>u</code> solves <code>A(p) u = b(p)</code> with <code>A</code> and <code>b</code> having affine parameter dependence, and <code>V</code> is a matrix with columns defining bases for approximation spaces <code>u ≈ V u_r</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/residual_norm.jl#L186-L201">source</a></section></details></article><h3 id="Linear-algebra-utilities"><a class="docs-heading-anchor" href="#Linear-algebra-utilities">Linear algebra utilities</a><a id="Linear-algebra-utilities-1"></a><a class="docs-heading-anchor-permalink" href="#Linear-algebra-utilities" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.full_lu"><a class="docstring-binding" href="#ModelOrderReductionToolkit.full_lu"><code>ModelOrderReductionToolkit.full_lu</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><code>full_lu(A; steps=-1)</code></p><p>Performs a completely pivoted LU factorization on the matrix <code>A</code>, returning permutation vectors <code>Q</code> and <code>P</code>, and lower and upper triangular matrices <code>L</code> and <code>U</code>, such that if all steps are performed, then <code>A[P,Q] = L*U</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/la_utils.jl#L8-L16">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.reig"><a class="docstring-binding" href="#ModelOrderReductionToolkit.reig"><code>ModelOrderReductionToolkit.reig</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><code>reig(A::AbstractMatrix, [B=I; which=:L, kmaxiter=1000, noise=0, egwith=:arpack, restarts=100,  krylovsteps=8, eps=1e-14, randdisks=1000, ignoreB=false, minstep=1.0, force_sigma=nothing])</code></p><p>Given (symmetric) matrices <code>A</code> and <code>B</code>, computes a real eigenvalue</p><p><span>$A x = λ B x$</span>.</p><ul><li><code>which=:L</code> corresponds to the largest eigenvalue</li><li><code>which=:S</code> corresponds to the smallest eigenvalue</li><li><code>which=:SP</code> corresponds to the smallest positive eigenvalue</li></ul><p>Returns a tuple (<code>λ</code>,<code>v</code>) where <code>λ&lt;:Real</code> is the eigenvalue and <code>v</code> the eigenvector.</p><p>Attempts to do this by shift-and-invert. Uses <code>Arpack.jl</code> if <code>egwith=:arpack</code> or <code>ArnoldiMethod.jl</code> if <code>egwith=:arnoldimethod</code> where the shifts are determined by the eigenvalue seeked and the Gershgorin disks of <code>B⁻¹A</code>.</p><p>If <code>egwith=:arpack</code>, <code>kmaxiter</code> determines maximum number of iterations. If  <code>egwith=:arnoldimethod</code>, uses <code>restarts</code> to determine number of restarts.</p><p>NOTE: A randomized algorithm is used by default for determining Gershgorin disks. This is to speed up the case when <code>size(A,1) ≫ 1</code>.</p><p>Following paramers relate to selection of shifts:</p><ul><li><code>krylovsteps</code> determines number of logarithmically spaced shifts are attempted</li><li><code>ignoreB</code> determines whether to approximate Gershgorin disks of <code>B⁻¹A</code> or <code>A</code></li><li><code>randdisks</code> determines number of (random) columns of <code>B⁻¹A</code> or <code>A</code> to subselect</li></ul><p>to compute Gershgorin disks of, others are ignored. Set <code>randdisks ≥ size(A,1)</code>  for no randomization.</p><ul><li><code>minstep</code> determines the minimum step size between logarithmically spaced shifts</li><li><code>force_sigma</code> forces trying shift and invert about this value if not <code>nothing</code></li></ul><p>Parameter <code>eps</code> is used to perturb shift parameters by relative amount to attempt to ensure no singular shifts. If the relative gap between the shift and the found eigenvalue is greater than <code>reldifftol</code> and the absolute gap is greater than <code>absdifftol</code>, attempts to re-solve by shifting about the found eigenvalue.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/la_utils.jl#L202-L240">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.smallest_sval"><a class="docstring-binding" href="#ModelOrderReductionToolkit.smallest_sval"><code>ModelOrderReductionToolkit.smallest_sval</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><code>smallest_sval(A[; kmaxiter=1000, noise=0, reigkwargs...])</code></p><p>Given a matrix <code>A</code>, attempts to compute the smallest singular value of it by Krylov iteration and inversion. If unsuccessful, computes a full, dense svd. See docs for  <code>ModelOrderReductionToolkit.reig</code> for <code>reigkwargs</code> options. Returns the smallest singular value, <code>σ_min&lt;:Real</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/la_utils.jl#L298-L306">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.largest_sval"><a class="docstring-binding" href="#ModelOrderReductionToolkit.largest_sval"><code>ModelOrderReductionToolkit.largest_sval</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><code>largest_sval(A[; kmaxiter=1000, noise=0])</code></p><p>Given a matrix <code>A</code>, attempts to compute the largest singular value of it by Krylov iteration. If unsuccessful, computes a  full, dense svd. Returns the largest singular value,  <code>σ_max&lt;:Real</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/la_utils.jl#L311-L318">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelOrderReductionToolkit.orthonormalize_mgs2!"><a class="docstring-binding" href="#ModelOrderReductionToolkit.orthonormalize_mgs2!"><code>ModelOrderReductionToolkit.orthonormalize_mgs2!</code></a> — <span class="docstring-category">Function</span></summary><section><div><p><code>orthonormalize_mgs2!(u, V)</code></p><p>Given a matrix <code>V</code>, and a new vector <code>u</code>, orthogonalize <code>u</code>  with respect to the columns of <code>V</code>, and computes its norm <code>nu</code>. If <code>nu != 0</code>, divides <code>u</code> by <code>nu</code> and returns  <code>nu</code>. If <code>nu == 0</code>, then <code>u</code> lives in the span of <code>V</code>, and <code>0</code> is returned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/104c0a89658efe75250758328c9201559f50f682/src/la_utils.jl#L323-L331">source</a></section></details></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="rbm_tutorial.html">« RBM Tutorial</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Wednesday 17 December 2025 15:27">Wednesday 17 December 2025</span>. Using Julia version 1.10.10.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
