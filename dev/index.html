<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Models and Reductors · ModelOrderReductionToolkit.jl</title><meta name="title" content="Models and Reductors · ModelOrderReductionToolkit.jl"/><meta property="og:title" content="Models and Reductors · ModelOrderReductionToolkit.jl"/><meta property="twitter:title" content="Models and Reductors · ModelOrderReductionToolkit.jl"/><meta name="description" content="Documentation for ModelOrderReductionToolkit.jl."/><meta property="og:description" content="Documentation for ModelOrderReductionToolkit.jl."/><meta property="twitter:description" content="Documentation for ModelOrderReductionToolkit.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">ModelOrderReductionToolkit.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href="index.html">Models and Reductors</a><ul class="internal"><li><a class="tocitem" href="#Stationary-Models"><span>Stationary Models</span></a></li><li><a class="tocitem" href="#Stationary-Model-Reductors"><span>Stationary Model Reductors</span></a></li><li><a class="tocitem" href="#Nonstationary-Models"><span>Nonstationary Models</span></a></li></ul></li><li><a class="tocitem" href="rbm_tutorial.html">RBM Tutorial</a></li><li><a class="tocitem" href="docs.html">Additional Docstrings</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="index.html">Models and Reductors</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="index.html">Models and Reductors</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/master/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="ModelOrderReductionToolkit.jl-Models-and-Reductors"><a class="docs-heading-anchor" href="#ModelOrderReductionToolkit.jl-Models-and-Reductors">ModelOrderReductionToolkit.jl Models and Reductors</a><a id="ModelOrderReductionToolkit.jl-Models-and-Reductors-1"></a><a class="docs-heading-anchor-permalink" href="#ModelOrderReductionToolkit.jl-Models-and-Reductors" title="Permalink"></a></h1><h2 id="Stationary-Models"><a class="docs-heading-anchor" href="#Stationary-Models">Stationary Models</a><a id="Stationary-Models-1"></a><a class="docs-heading-anchor-permalink" href="#Stationary-Models" title="Permalink"></a></h2><p>A <code>model &lt;: StationaryModel{NOUT}</code> is a map from parameter space to a vector space. When calling <code>model(p, i=1)</code> for <code>i=1,...,NOUT</code>, must return a vector of length <code>output_length(model)</code> and of eltype <code>output_type(model)</code>. </p><h3 id="Linear-Model"><a class="docs-heading-anchor" href="#Linear-Model">Linear Model</a><a id="Linear-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Linear-Model" title="Permalink"></a></h3><p>A model of the form</p><p class="math-container">\[A(p) x(p) = b(p).\]</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelOrderReductionToolkit.LinearModel" href="#ModelOrderReductionToolkit.LinearModel"><code>ModelOrderReductionToolkit.LinearModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">model = LinearModel(Ap::APArray, bp::APArray) &lt;: StationaryModel{1}
model = LinearModel(Ap::APArray, b::AbstractVector) &lt;: StationaryModel{1}</code></pre><p>Struct for containing a parameterized linear model <code>A(p) x = b(p)</code> or <code>A(p) x = b</code> with affine parameter  dependence. Can form a solution for a new parameter value by  calling it on a new parameter value <code>x = model(p)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/55220b31ded45578b0a0d9849729c8d7774487b1/src/models/linear_model.jl#L1-L11">source</a></section></article><p>For an example, see <code>PoissonModel()</code>.</p><h3 id="Linear-Matrix-Model"><a class="docs-heading-anchor" href="#Linear-Matrix-Model">Linear Matrix Model</a><a id="Linear-Matrix-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Linear-Matrix-Model" title="Permalink"></a></h3><p>A model of the form</p><p class="math-container">\[A(p) X(p) = B(p).\]</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelOrderReductionToolkit.LinearMatrixModel" href="#ModelOrderReductionToolkit.LinearMatrixModel"><code>ModelOrderReductionToolkit.LinearMatrixModel</code></a> — <span class="docstring-category">Type</span></header><section><div><p><code>LinearMatrixModel{NOUT}</code></p><pre><code class="nohighlight hljs">model = LinearMatrixModel(Ap::APArray, bps::AbstractVector{Union{APArray, &lt;:AbstractVector}})
model = LinearMatrixModel(Ap::APArray, Bp::APArray)
model = LinearMatrixModel(models::AbstractVector{LinearModel})</code></pre><p>Struct for containing a parameterized linear model <code>A(p) X = B(p)</code>, with affine parameter dependence. Stored internally similarly to a <code>LinearModel</code>, so can solve for a single column of the solution by <code>model(p, i)</code> for <code>i=1,...,NOUT</code>, or can solve for the matrix solution by <code>model(p, 0)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/55220b31ded45578b0a0d9849729c8d7774487b1/src/models/linear_matrix_model.jl#L1-L15">source</a></section></article><p>For an example, see <code>to_frequency_domain(PenzlModel())</code>.</p><h2 id="Stationary-Model-Reductors"><a class="docs-heading-anchor" href="#Stationary-Model-Reductors">Stationary Model Reductors</a><a id="Stationary-Model-Reductors-1"></a><a class="docs-heading-anchor-permalink" href="#Stationary-Model-Reductors" title="Permalink"></a></h2><p>Reduced basis methods for stationary models typically require the models to have implemented <code>galerkin_project(model, V[, W=V], r=-1)</code> and <code>galerkin_add!(rom, fom, v, Vold[, w=v, Wold=Vold])</code>.</p><h3 id="POD-Reductor"><a class="docs-heading-anchor" href="#POD-Reductor">POD Reductor</a><a id="POD-Reductor-1"></a><a class="docs-heading-anchor-permalink" href="#POD-Reductor" title="Permalink"></a></h3><p>Proper orthogonal decomposition which solves the full order model at each parameter value, computes an SVD of the snapshot matrix, and allows for projection onto the resulting left singular vectors.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelOrderReductionToolkit.PODReductor" href="#ModelOrderReductionToolkit.PODReductor"><code>ModelOrderReductionToolkit.PODReductor</code></a> — <span class="docstring-category">Type</span></header><section><div><p><code>pod_reductor &lt;: PODReductor</code></p><p>A struct for holding the parts of a POD reductor for a <code>StationaryModel</code> model. Can access the FOM through  <code>pod_reductor.model</code>, the snapshot matrix through  <code>pod_reductor.snapshots</code>, the singular values through  <code>pod_reductor.S</code>, and the reduced basis  (left singular vectors) through <code>pod_reductor.V</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/55220b31ded45578b0a0d9849729c8d7774487b1/src/reductors/pod.jl#L1-L10">source</a></section></article><pre><code class="language-julia hljs">model = PoissonModel()
params = [[i,j,k] for i in range(0,1,5) for j in range(0,1,5) for k in range(0,1,5)]
reductor = PODReductor(model)
add_to_rb!(reductor, params) # or add_to_rb!(reductor, snapshots) if snapshot matrix already formed
rom = form_rom(reductor, 10)</code></pre><h3 id="SG-Reductor"><a class="docs-heading-anchor" href="#SG-Reductor">SG Reductor</a><a id="SG-Reductor-1"></a><a class="docs-heading-anchor-permalink" href="#SG-Reductor" title="Permalink"></a></h3><p>Strong greedy method which solves the full order model at each parameter value, computes a column-pivoted QR decomposition of the snapshot matrix, and allows for projection onto the resulting orthonormalized snapshots.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelOrderReductionToolkit.SGReductor" href="#ModelOrderReductionToolkit.SGReductor"><code>ModelOrderReductionToolkit.SGReductor</code></a> — <span class="docstring-category">Type</span></header><section><div><p><code>sg_reductor &lt;: SGReductor</code></p><p>A struct for holding the parts of an SG reductor for  a <code>StationaryModel</code> model. Can access the FOM through  <code>sg_reductor.model</code>, the snapshot matrix through  <code>sg_reductor.snapshots</code>, the pivot order through  <code>sg_reductor.p</code>, and the reduced basis through  <code>sg_reductor.V</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/55220b31ded45578b0a0d9849729c8d7774487b1/src/reductors/strong_greedy.jl#L1-L10">source</a></section></article><pre><code class="language-julia hljs">model = PoissonModel()
params = [[i,j,k] for i in range(0,1,5) for j in range(0,1,5) for k in range(0,1,5)]
reductor = SGReductor(model)
add_to_rb!(reductor, params) # or add_to_rb!(reductor, snapshots) if snapshot matrix already formed
rom = form_rom(reductor, 10)</code></pre><h3 id="WG-Reductor"><a class="docs-heading-anchor" href="#WG-Reductor">WG Reductor</a><a id="WG-Reductor-1"></a><a class="docs-heading-anchor-permalink" href="#WG-Reductor" title="Permalink"></a></h3><p>Weak greedy method which utilizes an <code>ErrorEstimator</code> to attempt to choose the parameter value (and index) for which the error is the worst for the given RB. Then, forms that full order solution and continues.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelOrderReductionToolkit.WGReductor" href="#ModelOrderReductionToolkit.WGReductor"><code>ModelOrderReductionToolkit.WGReductor</code></a> — <span class="docstring-category">Type</span></header><section><div><p><code>wg_reductor &lt;: WGReductor</code></p><p>Stores a FOM in <code>model</code>, an error estimator <code>estimator</code>,  the greedily selected parameters <code>params_greedy</code>, the reduced basis in <code>V</code>, the ROM in <code>rom</code>, the approximate errors at each step in <code>approx_errors</code>, and the truth errors in each step at <code>truth_errors</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/55220b31ded45578b0a0d9849729c8d7774487b1/src/reductors/weak_greedy.jl#L123-L131">source</a></section></article><pre><code class="language-julia hljs">model = PoissonModel()
params = [[i,j,k] for i in range(0,1,5) for j in range(0,1,5) for k in range(0,1,5)]
estimator = StabilityResidualErrorEstimator(model, params, coercive=true)
reductor = WGReductor(model, estimator)
add_to_rb!(reductor, params, 10)
rom = form_rom(reductor, 10)</code></pre><h2 id="Nonstationary-Models"><a class="docs-heading-anchor" href="#Nonstationary-Models">Nonstationary Models</a><a id="Nonstationary-Models-1"></a><a class="docs-heading-anchor-permalink" href="#Nonstationary-Models" title="Permalink"></a></h2><p>A <code>model &lt;: NonstationaryModel</code> is a map from parameter space to a set of ODEs. Calling <code>model(p)</code> initializes the model to the given parameter value. ODE outputs are vector of length <code>output_length(model)</code> and of eltype <code>output_type(model)</code>. Can convert into an <code>ODEProblem</code> by <code>to_ode_problem(model[, x0, tspan, p])</code>.</p><h3 id="LTI-Model"><a class="docs-heading-anchor" href="#LTI-Model">LTI Model</a><a id="LTI-Model-1"></a><a class="docs-heading-anchor-permalink" href="#LTI-Model" title="Permalink"></a></h3><p>A model of the form</p><p class="math-container">\[E(p) x&#39;(t;p) = A(p) x(t;p) + B(p) u(t)\\
y(t;p) = C(p) x(t;p) + D(p) u(t)\]</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelOrderReductionToolkit.LTIModel" href="#ModelOrderReductionToolkit.LTIModel"><code>ModelOrderReductionToolkit.LTIModel</code></a> — <span class="docstring-category">Type</span></header><section><div><p><code>model = LTIModel(A_in, B_in, C_in, D_in=0, E_in=I) &lt;: NonstationaryModel</code> <code>model = LTIModel(lti&lt;:AbstractStateSpace) &lt;: NonstationaryModel</code> <code>model = LTIModel(lti&lt;:AbstractDescriptorStateSpace) &lt;: NonstationaryModel</code></p><p>Struct for containing a parameterized LTI model <code>E(p) x&#39;(t,p) = A(p) x(t,p) + B(p) u(t)</code> <code>y(t,p) = C(p) x(t,p) + D(p) u(t)</code> with affine parameter dependence where <code>u(t)</code> is some input signal. Can initialize the system to a given  parameter <code>p</code> by calling <code>model(p)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fbelik/ModelOrderReductionToolkit.jl/blob/55220b31ded45578b0a0d9849729c8d7774487b1/src/models/lti.jl#L1-L12">source</a></section></article><p>Also implements <code>to_ss(model[, p=nothing])</code> to convert a model to a <code>ControlSystems.jl</code> state space, and <code>to_dss(model[, p=nothing])</code> to convert to a <code>DescriptorSystems.jl</code>. Also implements <code>to_frequency_domain(model)</code> which returns a <code>LinearMatrixModel</code> to solve for the state variable <code>x</code> in the frequency domain. Also has <code>galerkin_project(model, V[, W=V; r=-1])</code> implemented for forming reduced order models. To cast to an ODE problem for a given input <code>u(x)</code>, call `to<em>ode</em>problem(model[, x0=0.0, tspan=(0,1), p=nothing, u])</p><p>The state of the art method for reducing a non-parameterized LTI problem is through balanced truncation. This can currently be done in <code>DescriptorSystems.jl</code>. (Goal of implementing a faster iterative solver here)</p><pre><code class="language-julia hljs">model = PenzlModel()
sys = to_dss(model)
sys_r, hs = gbalmr(sys; balance=true) # Returns a reduced system and HSVs
rom = LTIModel(sys_r)</code></pre><p>For reducing a parameterized LTI problem in a reduced basis setting, one option is to create a (complex) basis in the frequency domain.</p><pre><code class="language-julia hljs">model = ParameterizedPenzlModel()
freq_model = to_frequency_domain(model)
reductor = PODReductor(freq_model)
params = [[ω,p1,p2,p3] for ω in range(-500,500,21) for p1 in range(-25,25,6) for p2 in range(-25,25,6) for p3 in range(-25,25,6)]
reductor = PODReductor(freq_model)
add_to_rb!(reductor, params)
rom = galerkin_project(model, Matrix(reductor.V[:,1:20])) # Faster when converting from VOV to Matrix</code></pre></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="rbm_tutorial.html">RBM Tutorial »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.5.0 on <span class="colophon-date" title="Wednesday 7 August 2024 20:44">Wednesday 7 August 2024</span>. Using Julia version 1.10.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
